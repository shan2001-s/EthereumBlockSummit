<!DOCTYPE html>
<html>
<head>
  <title>Ticket Purchase</title>
 <style>
  .container {
  display: flex;
  justify-content: space-between;
}

.ticket {
  width: 300px;
  padding: 20px;
  text-align: center;
  border: 1px solid #ccc;
  box-shadow: 0 0 10px rgba(0, 0, 0, 0.1);
}

.ticket h2 {
  color: #333;
  font-family: Arial, sans-serif;
}

.ticket p {
  color: #666;
  font-family: Arial, sans-serif;
}

.ticket button {
  background-color: #ccc;
  color: #fff;
  padding: 10px 20px;
  border: none;
  cursor: not-allowed;
  font-size: 16px;
  font-family: Arial, sans-serif;
}

.ticket.active button {
  background-color: #007bff;
  cursor: pointer;
}

.ticket.disabled {
  background-color: #ccc;
  color: #000;
}

.countdown {
  margin-top: 20px;
  font-family: Arial, sans-serif;
  font-size: 20px;
}

 </style>
</head>
<body>
  <div class="container">
    <div class="ticket early active">
      <h2>Early Bird Ticket</h2>
      <p>Get your ticket at a discounted price!</p>
      <p>End Date: May 23, 2023, 2:25 PM</p>
      <div class="countdown">
        <span id="days-early"></span> days
        <span id="hours-early"></span> hours
        <span id="minutes-early"></span> minutes
        <span id="seconds-early"></span> seconds
      </div>
      <button id="buyNowBtn" class="active">Buy Now</button>
    </div>

    <div class="ticket regular">
      <h2>Regular Ticket</h2>
      <p>Standard ticket price.</p>
      <p>End Date: May 23, 2023, 2:30 PM</p>
      <div class="countdown">
        <span id="days-regular">0</span> 
        <span id="hours-regular">0</span> 
        <span id="minutes-regular">0</span> 
        <span id="seconds-regular">0</span> 
      </div>
      <button disabled>Buy Now</button>
    </div>

    <div class="ticket late">
      <h2>Late Entry Ticket</h2>
      <p>Last-minute ticket price.</p>
      <p>End Date: May 23, 2023, 2:35 PM</p>
      <div class="countdown">
        <span id="days-late"></span> 
        <span id="hours-late"></span> 
        <span id="minutes-late"></span> 
        <span id="seconds-late"></span> 
      </div>
      <button disabled>Buy Now</button>
    </div>
  </div>

  <script>
    // Calculate the time difference between the current date and the target end dates
function getTimeDifference(endDate) {
  const totalSeconds = (new Date(endDate) - new Date()) / 1000;
  const days = Math.floor(totalSeconds / 3600 / 24);
  const hours = Math.floor(totalSeconds / 3600) % 24;
  const minutes = Math.floor(totalSeconds / 60) % 60;
  const seconds = Math.floor(totalSeconds) % 60;
  return { days, hours, minutes, seconds };
}

// Update the countdown timer display for the specified ticket
function updateCountdown(ticketType, endDate) {
  const timeDiff = getTimeDifference(endDate);

  if (timeDiff.days < 0) {
    // Ticket end date has passed
    disableTicket(ticketType);
    hideCountdown(ticketType);
    activateNextTicket(ticketType);
  } else {
    document.getElementById(`days-${ticketType}`).textContent = timeDiff.days+' d';
    document.getElementById(`hours-${ticketType}`).textContent = timeDiff.hours+' hr';
    document.getElementById(`minutes-${ticketType}`).textContent = timeDiff.minutes+' min';
    document.getElementById(`seconds-${ticketType}`).textContent = timeDiff.seconds+' sec';
  }
}

// Disable a ticket card and its Buy Now button
function disableTicket(ticketType) {
  const ticketCard = document.querySelector(`.ticket.${ticketType}`);
  const buyNowBtn = ticketCard.querySelector("button");

  ticketCard.classList.remove("active");
  ticketCard.classList.add("disabled");
  buyNowBtn.removeEventListener("click", handleBuyNow);
  buyNowBtn.disabled = true;
}

// Hide the countdown for the specified ticket
function hideCountdown(ticketType) {
  const countdown = document.querySelector(`.ticket.${ticketType} .countdown`);
  countdown.style.display = "none";
}

// Enable a ticket card and its Buy Now button
function enableTicket(ticketType) {
  const ticketCard = document.querySelector(`.ticket.${ticketType}`);
  const buyNowBtn = ticketCard.querySelector("button");

  ticketCard.classList.add("active");
  ticketCard.classList.remove("disabled");
  buyNowBtn.addEventListener("click", handleBuyNow);
  buyNowBtn.disabled = false;
}

// Activate the next ticket and start the countdown timer
function activateNextTicket(currentTicketType) {
  const ticketTypes = ["early", "regular", "late"];
  const currentTicketIndex = ticketTypes.indexOf(currentTicketType);
  const nextTicketType = ticketTypes[currentTicketIndex + 1];

  if (nextTicketType) {
    enableTicket(nextTicketType);
    const endDate = getEndDateByTicketType(nextTicketType);
    updateCountdown(nextTicketType, endDate);
    setInterval(() => updateCountdown(nextTicketType, endDate), 1000);
  }
}

// Get the end date for the specified ticket type
function getEndDateByTicketType(ticketType) {
  const endDates = {
    early: "May 22, 2023 16:02:00",
    regular: "May 25, 2023 16:03:00",
    late: "May 26, 2023 16:04:00"
  };

  return endDates[ticketType];
}

// Handle the Buy Now button click
function handleBuyNow() {
  alert("You've purchased a ticket!");
  // Additional logic for the purchase can be added here
}

// On page load, activate the Early Bird ticket
window.onload = function () {
  enableTicket("early");
  const endDate = getEndDateByTicketType("early");
  updateCountdown("early", endDate);
  setInterval(() => updateCountdown("early", endDate), 1000);
};

  </script>
</body>
</html>
